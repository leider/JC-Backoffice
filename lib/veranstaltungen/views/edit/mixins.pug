include ../../../../views/formComponents

mixin submitButtonsFor(veranstaltung, current, withsave)
  .btn-group.btn-group.float-right
    a.btn.btn-light(href='/', title='Zur√ºck'): i.fas.fa-home.fa-fw
    if accessrights.isOrgaTeam()
      if veranstaltung.url() && !veranstaltung.kopf().confirmed()
        span.btn.btn-light.modaldialog(data-toggle='modal', data-target='#loeschdialog', data-link='/veranstaltungen/deleteVeranstaltungDialog/' + encodeURIComponent(veranstaltung.url()))
          i.fas.fa-fw.fa-trash-alt.text-danger
      if veranstaltung.url()
        +submitButton(veranstaltung, current, 'copy', 'Kopieren', 'fa-copy ')
    if withsave
      +hidden('returnTo', current)
      button.btn.btn-success(type='submit', title='Speichern'): i.far.fa-save.fa-fw


mixin tabsFor(veranstaltung, current)
  ul.nav.nav-tabs
    if accessrights.isOrgaTeam()
      +tab(veranstaltung, current, 'allgemeines', 'Allgemeines', 'fa-keyboard')
      +tab(veranstaltung, current, 'technik', 'Technik', 'fa-microphone-alt')
      +tab(veranstaltung, current, 'ausgaben', 'Kalkulation', 'fa-euro-sign')
      if veranstaltung.artist().brauchtHotel()
        +tab(veranstaltung, current, 'hotel', 'Hotel', 'fa-bed')
    +tab(veranstaltung, current, 'kasse', 'Abendkasse', 'fa-money-bill-alt')
    if accessrights.isOrgaTeam()
      +tab(veranstaltung, current, 'presse', 'Presse', 'fa-newspaper')

mixin tab(veranstaltung, current, name, title, icon)
  li(class='nav-item' + (current !== name ? ' tab-' : ' color-') + name )
    if veranstaltung.url()
      a(class='px-2 py-1 py-md-2 nav-link inherit-color' + (current === name ? ' disabled' : ''), href=veranstaltung.fullyQualifiedUrl() + '/' + name, title=title)
        i(class='fas fa-fw ' + icon)
        b.d-none.d-md-inline #{' '} #{title}
    else
      a(class='px-2 py-1 py-md-2 nav-link inherit-color disabled', href='#', title=title)
        i(class='fas fa-fw ' + icon)
        b.d-none.d-md-inline #{' '} #{title}
